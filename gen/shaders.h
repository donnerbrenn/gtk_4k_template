// Generated with Shader Minifier 1.5.1 (https://github.com/laurentlb/Shader_Minifier/)
#ifndef SHADERS_H_
# define SHADERS_H_
# define VAR_Frag "v"

const char *vshader_vert =
 "#version 400\n"
 "void main()"
 "{"
   "gl_Position=vec4(gl_VertexID%2*2-1,gl_VertexID/2*2-1,1,1);"
 "}";

const char *shader_frag =
 "#version 400\n"
 "out vec4 v;"
 "float f;"
 "float n(vec3 v,vec3 m)"
 "{"
   "v=abs(v)-m;"
   "return length(max(v,0.))+min(0.,max(v.x,max(v.y,v.z)));"
 "}"
 "float n(vec3 v)"
 "{"
   "return sin(dot(sin(v*32.),vec3(2,3,1)))*cos(dot(cos(v*43.),vec3(3,1,2)))+sin(dot(sin(v*52.),vec3(2,3,1)))*cos(dot(cos(v*73.),vec3(3,1,2)));"
 "}"
 "float s(vec3 v)"
 "{"
   "float s=-n(v,vec3(7.9)),m;"
   "v=asin(sin(v));"
   "m=n(v,vec3(.7,.6,.6))-.02;"
   "f=m>s?"
     "sin(length(v)*20):"
     "1;"
   "return min(s,m)-n(v*100)/5000*(exp(n(v)+n(v*2)+n(v/5))*.3+.6);"
 "}"
 "void main()"
 "{"
   "v=vec4(0);"
   "for(int m=0;m<100;m++)"
     "{"
       "vec2 d=(gl_FragCoord.xy-vec2(1280,720))/1000+vec2(n(vec3(m)))/2000;"
       "vec3 i=normalize(vec3(.5-dot(d,d)*.6,d))+vec3(0,n(vec3(m)),n(vec3(m+1)))*.01,g=vec3(-6.5,2,-5.2)-vec3(0,n(vec3(m)),n(vec3(m+1)))*.03;"
       "float c=1,r;"
       "for(int m=0;m<150;m++)"
         "{"
           "r=s(g);"
           "if(r*r<1e-6&&f>-.5)"
             "{"
               "mat3 v=mat3(g,g,g)-mat3(.01);"
               "vec3 m=normalize(s(g)-vec3(s(v[0]),s(v[1]),s(v[2])));"
               "c*=1-abs(dot(i,m))*.98;"
               "i=reflect(i,m);"
               "r=1;"
             "}"
           "g+=i*r;"
         "}"
       "v+=vec4(r*r<1e-6?"
         "(sin(vec3(0,5,4)-g*.2)*.2+1.2)*c:"
         "vec3(.01),1);"
     "}"
   "v=sqrt(v/v.w);"
 "}";

#endif // SHADERS_H_
